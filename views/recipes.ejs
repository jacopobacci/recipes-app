<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width,
  initial-scale=1.0"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/static/stylesheets/style.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="container d-flex flex-column align-items-center" id="search-section">
      <h1 class="mt-5 bg-white rounded p-3 border shadow-sm">Recipes App</h1>
      <form class="d-flex py-5 px-1 px-md-0 w-25" action="/" method="get">
        <input
          id="search-input"
          class="form-control shadow-sm"
          type="search"
          placeholder="Search Recipes Online"
          name="search"
          aria-label="Search"
        />
        <button class="btn btn-outline-success ms-3 shadow-sm" id="search-btn" type="submit">Search</button>
      </form>
      <form class="d-flex px-1 px-md-0">
        <a class="btn btn-outline-primary shadow-sm" role="button" href="/add-recipe">Add New Recipe</a>
        <a class="btn btn-outline-success ms-3 shadow-sm" role="button" href="/my-recipes">View My Recipes</a>
      </form>

      <div class="d-flex">
        <% meals !== null && meals.forEach(meal=>{ %>

        <div class="card m-5" style="width: 18rem" id="<%=meal.idMeal %>">
          <div class="card-body">
            <h5 class="card-title"><%= meal.strMeal %></h5>
            <hr />
            <h6>Recipe</h6>
            <p class="card-text"><%= meal.strInstructions %></p>
            <hr />
          </div>
          <div class="card-body">
            <h6>Ingredients</h6>
            <!-- <p class="card-text">To Be Done</p> -->
            <ul>
              <% for(let i = 1; i < 21; i++){ %>
                <% if(meal[`strIngredient${i}`] !== null && meal[`strIngredient${i}`] !== ''){ %> 
                <li><%= meal[`strIngredient${i}`] %></li>
               <% } %>
               <% } %>  
            </ul>
          </div>
        </div>

        <% })%>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </body>
</html>
